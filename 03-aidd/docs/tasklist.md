# План разработки и отчёт по прогрессу

> Обновлять таблицу прогресса после каждой итерации.

| Итерация | Статус | Иконка | Краткие заметки |
|---|---:|---|---|
| 1 | completed | ✅ | Скелет проекта создан и файлы добавлены
| 2 | completed | ✅ | `/start` — приветствие и очистка истории
| 3 | completed | ✅ | Обработчик текста с заглушкой LLM (тестовый ответ)
| 4 | completed | ✅ | Реальная интеграция с OpenRouter (`llm.py`)
| 5 | completed | ✅ | Хранение истории пользователей, лимит 20 сообщений
| 6 | completed | ✅ | Сборка: `Makefile`, `pyproject.toml`, `.env.example`

---

## Задачи (итерационный список)

 - [x] Итерация 1 — Создать скелет проекта и запустить бот (polling)
  - Цель теста: бот запускается и видно, что polling работает (логи)
- [x] Итерация 2 — Добавить `/start` handler: приветствие + очистка истории
  - Цель теста: `/start` отвечает и история очищается
- [x] Итерация 3 — Добавить обработчик текстовых сообщений, вызывающий LLM-заглушку
  - Цель теста: бот отвечает на текстовые сообщения (заглушка)
- [x] Итерация 4 — Реализовать `llm.py` и вызвать OpenRouter (используя env)
  - Цель теста: бот получает реальные ответы от модели `openai/gpt-oss-20b:free`
- [x] Итерация 5 — Реализовать хранение истории per-user с лимитом из `MAX_HISTORY_MESSAGES`
  - Цель теста: диалог сохраняется, после 20 сообщений старые удаляются
- [x] Итерация 6 — Добавить `Makefile`, `pyproject.toml` (uv) и `.env.example`
  - Цель теста: проект собирается/запускается одной командой (make)

---

Принцип: каждая итерация — минимальный рабочий шаг, который можно протестировать вручную. Следуем KISS: никаких дополнительных функций и абстракций.


