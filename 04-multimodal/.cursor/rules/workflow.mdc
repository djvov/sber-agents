---
alwaysApply: true
---
# Workflow для выполнения итераций из `docs/tasklist.md`

Кратко: выполнять строго по плану, перед каждой итерацией согласовывать код, после реализации — ждать подтверждения и обновлять прогресс.

- Следовать принципу KISS: минимальные изменения, только то, что нужно для текущей итерации.

Шаги для каждой итерации

1. Подготовка предложения (прежде чем писать код)
   - Описать кратко цель итерации (1–2 строки).
   - Перечислить файлы, которые будут изменены/созданы.
   - Привести ключевые отрезки кода (функции, signatures, конфигурация) — только необходимое для понимания решения.
   - Пример: минимальная функция-скелет или вызов API (не весь файл).
   - Ждать явного согласования от владельца проекта.

2. Реализация (после согласования)
   - Вносить только согласованные изменения.
   - Держать изменения атомарными и минимальными.
   - Запускать локальную проверку работы (см. цель теста в `docs/tasklist.md`).

3. Коммит и прогресс
   - Сделать один коммит для итерации: сообщение формата `iter<N>: <короткое описание>`.
   - Обновить `docs/tasklist.md`: статус итерации, иконка, краткая заметка.
   - Отметить чекбокс выполненной задачи (`- [x]`) в tasklist.
   - Выполнить `todo_write` (если используется автоматизация) для синхронизации internal TODOs.

4. Ожидание подтверждения и переход
   - После коммита отправить сообщение с кратким отчётом и ссылкой на изменения (комментарий к коммиту/файлам).
   - Ждать подтверждения владельца проекта перед началом следующей итерации.

Дополнительные правила

- Всегда показывать только релевантные фрагменты кода при согласовании (не более 10–20 строк на фрагмент).
- Не добавлять новые зависимости без явного согласования.
- Не вводить архитектурные изменения или рефакторинг в рамках итерации — только исправления, необходимые для функционала.
- Если столкнулся с блокером — немедленно сообщить (коротко: что и где блокирует).
- После каждой итерации кратко обновлять прогресс в PR/issue/`docs/tasklist.md`.

Минимальный чеклист перед переходом к следующей итерации

- [ ] Предложение согласовано (кодовые фрагменты утверждены)
- [ ] Изменения реализованы и локально протестированы
- [ ] Сделан коммит `iter<N>: ...`
- [ ] `docs/tasklist.md` обновлён и задача отмечена выполненной
- [ ] Получено подтверждение владельца проекта на продолжение


